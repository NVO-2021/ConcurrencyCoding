# ConcurrencyCoding
this project is xytyzgf's learning log!
第一章 走入并行世界（并发概念及相关知识铺垫）

1.2 必要概念
1.2.1 同步（Synchronous）和异步(Asynchronous)
1.2.2 并发(Concurrency)和并行(Parallelism)
1.2.3 临界区
 	临界区用来表示以后总公共资源或共享数据，可以被多个线程使用。但是没使用一次，只能有一个线程占用它，一旦某临界资源被占用，其他线程想要使用这个资源，就必须等待（该资源被占用者释放）。
1.2.4 阻塞(Blocking)和非阻塞(Non-Blocking)
一个线程占用了临界区资源，那么其他所有需要这个资源的线程必须在这个临界区中进行等待。等待会导致线程挂起，这就是阻塞。
1.2.5 死锁(Deadlock)、饥饿（Starvation）和活锁（Livelock）
死锁：彼此占用对方所需要的资源而不释放；
饥饿：某一个或多个线程因为种种原因无法获得所需要的资源,导致一致无法执行;
eg:例如高优先级的线程占用某资源很久才释放；
注：饥饿在执行过程中是有可能解除的，比如某高优先级线程释放了某   
资源	 

1.3 并发级别
1.3.1 阻塞（Blocking）——悲观策略（悲观锁）
同上；
1.3.2 无饥饿（Starvation-Free）
公平锁保证无饥饿，所有线程无论优先级，按照先后顺序依次进入临界区。
1.3.3 无障碍（Obstruction-Free）——乐观策略（乐观锁）
无障碍是一种最弱的非阻塞调度。采用无障碍策略的线程一旦将临界区的共享数据改坏了，所有线程都执行回滚。
1.3.4 无锁（Lock-Free）
无锁的并发保证必然有一个线程能够再有限步内完成操作离开临界区。
1.3.5 无等待（Wait-Free）
无等待要求所有进入临界区的线程必须再有限步内完成；

1.4 有关并行的两个重要定律
1.4.1 Amdahl定律
加速比定义：加速比= 优化前系统耗时/优化后系统耗时
1.4.2 Gustafson定律

1.5 java的JMM（内存模型）
JMM三大特性：原子性、可见性、有序性。
1.5.1 原子性(Atomicity):
原子性是指一个操作是不可中断的。即使是再多个线程一起执行的时候，一	  
个操作一旦开始，就不会被其他线程干扰。
1.5.2 可见性(Visibility)
可见性是指再多线程下当一个线程修改了某一个共享变量的值，其他线程是	
否能够立即知道这个修改。
1.5.3 (Visibility)
可见性是指再多线程下当一个线程修改了某一个共享变量的值，其他线程是	
否能够立即知道这个修改。

第二章 Java并行程序基础

2.1 线程基础
2.1.1 线程状态图

2.1.2 线程状态说明
NEW :线程新建但未执行；
RUNNABLE:线程所需的一切资源都已经准备好，即可执行状态，当线程抢占到cpu时即可执行；
BLOCKED:当线程执行的过程中遇到synchronized同步块，就会进入阻塞状态，线程会暂停执行，直到获得了请求的锁；
WAITING/TIMED_WAITING:释放占用的资源进入等待状态，直到某一条件满足，则会切换到可执行状态，而TIMED_WAITING在指定时间后会自动进入可执行状态；
2.2 线程的基本操作
2.2.1 注意：不能用线程的run方法来开启线程，它只相当于Thread实例的一个方法调用，正确的做法是调用Thread实例的start方法。
2.2.3 线程中断
public void Thread.interrupt()        //中断线程
public boolean Thread.isInterrupted() //判断是否被中断
public static boolean Thread.interrupted() //判断是否被中断，并清除中断标识；
2.2.4 等待（wait）和通知（notify）
Object.wait()方法会释放目标对象的锁，而Thread.sleep()方法不会释放任何资源。
2.2.5 挂起(suspend)和继续(resume)执行线程
suspend() 和 resume() 若时间先后错乱，则会导致线程永久挂起，但不释放占用的资源，出现类似于死锁的状态。
2.2.6 等待线程结束(join) 和谦让(yield)
join的本质是让调用线程wait()在当前线程对象实例上：
while(isAlive()){
wait(0);
}
它让调用线程再当前对象上进行等待，当线程执行完后，被等待的线程会在退出前调用notifyAll()通知所有等待线程继续执行；
2.3 volatile 和 JMM（java Memory Modal）
2.4 线程组
2.5 守护线程（Daemon）
2.9 参考文献

